/*
     * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
     * Digest Algorithm, as defined in RFC 1321.
     * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
     * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
     * Distributed under the BSD License
     * See http://pajhome.org.uk/crypt/md5 for more info.
     */

(function(e){var t={MHome_FocusPic:1,Mhome_Classification:1,Mhome_Cart:1,MRecharge_Recharge:1,MHome_Lottery:1,MHome_MyJD:1,MHome_HandSeckill:1,MHome_ActivitiesInFloors:1,MHome_ActivitiesInFloors:1,MHome_Searchthi:1,MHome_SearchDropDownAssociationalWords:1,MHome_SearchDropDownHistoryWords:1,MHome_SearchButton:1,MHome_AirTicket:1,MCommonHead_NavigateButton:1,MCommonHead_home:1,MCommonHead_CategorySearch:1,MCommonHead_Cart:1,MCommonHead_MYJD:1,MCommonHTail_Account:1,MCommonHTail_ToTop:1,MCommonHTail_ClientApp:1,MDownLoadFloat_OpenNow:1,MGroupBuy_ChannelIcons:2,MJingDouHome_Activity:2,MJingDouHome_JingdouBuyLottery:2,MJingDouHome_ProductPic:2,MJingDouCheckinSuccess_Share:2,MJingDouShare_GetMyJingdou:2,MMyJDOrders_Categories:2,MMyJDFollowed_Commodities:2,MMyJDFollowed_Shops:2,MMyJDFollowed_Commodity:2,MMyJDFollowed_Shop:2,MMyJDBrowsedHistory_Commodites:2,MMyJDService_Categories:2,MMyJDAccountManage_Categories:2,MMyJD_Ordersnotpay:2,MMyJD_Ordersnotreceiving:2,MMyJD_MyMessages:2,MMyJD_FuntionMenus:2,MMyJD_GuessYouLike:2,MHandSecKill_Commodity:2,MHandSecKill_Tag:2,MHandSecKill_GotoAPPA:2,Jshop_FocusPic:4,Jshop_ProductID:4,Jshop_CategoryTab:4,Jshop_ProductID_Category:4,Jshop_Navigation:4,Jshop_CountDown:4,Jshop_Lottery:4,Jshop_GroupBuy:4,Jshop_ShopRec:4,Jshop_PromoRec:4,Jshop_PromoTurns:4,Jshop_PreSale:4,Jshop_Html_Content:4,Jshop_ImgWord:4,Jshop_PullDown:4,Jshop_PullDown_ProductID:4,Jshop_AddtoCart:4,MActivity_Productid:4,MActivity_Share:4,MActivity_DownloadApp:4,Mactivity_ReturnHome:4,MActivity_Button001:4,MActivity_Button002:4,MActivity_Button003:4,MActivity_Button004:4,MActivity_Button005:4,MActivity_Button006:4,MActivity_Button007:4,ScantoGift_Upload:4,ScantoGift_UploadSuccess:4,ScantoGift_UploadFail:4,"3DStreet_Building":4,"3DStreet_BoardURL":4,"3DStreet_JDButton":4,"3DStreet_CategoryURL":4,"3DStreet_Game":4,"3DStreet_Share":4,BrandStreet_BrandSaleTab:4,BrandStreet_BrandShowTab:4,BrandStreet_BrandNewTab:4,BrandStreetSale_Activityid:4,BrandStreetSale_BrandPic:4,BrandStreetSale_SortbySale:4,BrandStreetSale_SortbyAmount:4,BrandStreetSale_Productid:4,BrandStreetShow_FocusPic:4,BrandStreetShow_Category:4,BrandStreetShow_Activityid:4,Shopping1111A_Bargain:4,Shopping1111A_BrandToday:4,Shopping1111A_Floor:4,Shopping1111B_ToUrl:4,Accessory_CategoryFilter:4,Accessory_Category:4,Accessory_BrandFilter:4,Accessory_Brand:4,Accessory_Filter:4,Accessory_Productid:4,Accessory_ProductMore:4,AccessoryDetail_SortbyAmount:4,AccessoryDetail_SortbyEvaluate:4,AccessoryDetail_SortbyPrice:4,AccessoryDetail_SortbyNew:4,MPresell_GetPermission:4,MPresell_Rule:4,MPresell_Reserve:4,MPresell_AddtoCart:4,MPresell_Productid:4,MPresell_Confirm:4,MPresell_Cancel:4,MCutiPhone_StrollMall:4,MCutiPhone_DetailRule:4,MCutiPhone_HelpCutPrice:4,MCutiPhone_HelpShare:4,MCutiPhone_JoinTogether:4,MCutiPhone_InformTa:4,MCutiPhone_StrollButtom:4,MCutiPhone_SharetoAll:4,MTCL_CustomizeTCL:4,MTCL_MyCustomization:4,MTCL_ChoosePanel:4,MTCL_ChooseRemoter:4,MTCL_ChooseLabel:4,MTCL_PersonalLabel:4,MTCL_ThisIsIt:4,MTCL_OrderDetail:4,MMCD_APlanReduce5:4,MMCD_APlanPayOnline:4,MMCD_BPlanReduce5:4,MMCD_BPlanPayOnline:4,MMCDDownLoad_DownloadNow:4,MMCD_AddToCart:4,MMCD_GoRegister:4,MTSWCJingCoupon_GetVouchers:4,MTSWCFirstLinkVote_Submit:4,MTSWCFirstLinkVoteResult_Next:4,MTSWCFirstLinkPersonalCouppon_GetVouchers:4,MTSWCFirstLinkPersonalCouppon_NextLink:4,MTSWCFirstLinkPersonalCouppon_Invite:4,MTSWCSecondLinkVote_Submit:4,MTSWCStarVoteWin_Next:4,MTSWCScore_GetVouchers:4,MTSWCScore_MoreFunInvestment:4,MobileWare_TreasureBoxEntrance:4,MMobileWareLocate_Search:4,MMobileWareLocate_Searchthi:4,MMobileWareLocate_Locating:4,MMobileWareLocate_HistoryAddr:4,MMobileWareLocate_AssociateAddr:4,MMobileWareCommonHead_GoToCart:4,MMobileWareCommonHead_ChangeAddr:4,MMobileWareProductList_BackToTop:4,MMobileWareProductList_Product:4,MMobileWareProductDetail_ProductMsg:4,MMobileWareProductDetail_ProductMsg:4,MMobileWareProductDetail_ProductIntroduction:4,MMobileWareProductDetail_ProductSpecification:4,MMobileWareProductDetail_ProductPackage:4,MMobileWareProductDetail_AddToCart:4,MMobileWareProductDetail_DeliveryAddr:4,MMobileWareCart_DeleteProduct:4,MMobileWareCart_NumIncrease:4,MMobileWareCart_NumDecrease:4,MMobileWareCart_SelectAll:4,MMobileWareCart_CheckOut:4,MMobileWareCheckout_ChangeAddr:4,MMobileWareCheckout_MapCoordinate:4,MMobileWareCheckout_OrderSubmit:4,MMobileWareCheckout_PaperInvoice:4,MYuepao_FireCrackersForFree:4,MYuepao_Share:4,MYuepao_SetoffAndGetPrize:4,MYuepao_AskforGift:4,MYuepao_GotoNewYearShop:4,MYuepao_NewYearRaffle:4,MYuepao_Regulation:4,MYuepao_OnceAgain:4,MYuepao_IGive:4,MYuepao_IWantPlay:4,MYuepao_UpdateNow:4,MYuepao_HelpFriend:4,MYuepao_TellOthers:4,Shopcart_Productid:5,Shopcart_Stroll:5,Shopcart_Label:5,Shopcart_Getresent:5,Shopcart_Warranty:5,Shopcart_Pay:5,Shopcart_AddtoCart:5,Shopcart_Present:5,MProductdetail_Photo:5,MProductdetail_Productinfo:5,MProductdetail_Saleinfo:5,MProductdetail_Shopid:5,MProductdetail_GuessYouLike:5,MProductdetail_Addtocart:5,MProductdetail_Easybuy:5,MProductdetail_GotoCart:5,MProductdetail_AddtoFollowed:5,MNeworder_Submit:5,MNeworder_Function:5,MNeworder_Address:5,MNeworder_PayType:5,MNeworder_ProdictList:5,MPayFinish_OrderList:5,MPayFinish_SecKill:5,MPayFinish_GetJDBean:5,MPayFinish_AllOrders:5,MPayFinish_HandSecKill:5,MPayFinish_HomeMain:5};typeof define=="function"&&define.amd?define("events",[],function(){return{map:t}}):(e.MPing_M||(e.MPing_M={}),MPing_M.events=MPing_M.events||{},MPing_M.events.map=t)})(window),function(e){function r(e){return h(l(v(e)))}function i(e){return p(l(v(e)))}function s(e,t){return d(l(v(e)),t)}function o(e,t){return h(c(v(e),v(t)))}function u(e,t){return p(c(v(e),v(t)))}function a(e,t,n){return d(c(v(e),v(t)),n)}function f(){return r("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function l(e){return b(w(y(e),e.length*8))}function c(e,t){var n=y(e);n.length>16&&(n=w(n,e.length*8));var r=Array(16),i=Array(16);for(var s=0;s<16;s++)r[s]=n[s]^909522486,i[s]=n[s]^1549556828;var o=w(r.concat(y(t)),512+t.length*8);return b(w(i.concat(o),640))}function h(e){try{t}catch(n){t=0}var r=t?"0123456789ABCDEF":"0123456789abcdef",i="",s;for(var o=0;o<e.length;o++)s=e.charCodeAt(o),i+=r.charAt(s>>>4&15)+r.charAt(s&15);return i}function p(e){try{n}catch(t){n=""}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",s=e.length;for(var o=0;o<s;o+=3){var u=e.charCodeAt(o)<<16|(o+1<s?e.charCodeAt(o+1)<<8:0)|(o+2<s?e.charCodeAt(o+2):0);for(var a=0;a<4;a++)o*8+a*6>e.length*8?i+=n:i+=r.charAt(u>>>6*(3-a)&63)}return i}function d(e,t){var n=t.length,r,i,s,o,u,a=Array(Math.ceil(e.length/2));for(r=0;r<a.length;r++)a[r]=e.charCodeAt(r*2)<<8|e.charCodeAt(r*2+1);var f=Math.ceil(e.length*8/(Math.log(t.length)/Math.log(2))),l=Array(f);for(i=0;i<f;i++){u=Array(),o=0;for(r=0;r<a.length;r++){o=(o<<16)+a[r],s=Math.floor(o/n),o-=s*n;if(u.length>0||s>0)u[u.length]=s}l[i]=o,a=u}var c="";for(r=l.length-1;r>=0;r--)c+=t.charAt(l[r]);return c}function v(e){var t="",n=-1,r,i;while(++n<e.length)r=e.charCodeAt(n),i=n+1<e.length?e.charCodeAt(n+1):0,55296<=r&&r<=56319&&56320<=i&&i<=57343&&(r=65536+((r&1023)<<10)+(i&1023),n++),r<=127?t+=String.fromCharCode(r):r<=2047?t+=String.fromCharCode(192|r>>>6&31,128|r&63):r<=65535?t+=String.fromCharCode(224|r>>>12&15,128|r>>>6&63,128|r&63):r<=2097151&&(t+=String.fromCharCode(240|r>>>18&7,128|r>>>12&63,128|r>>>6&63,128|r&63));return t}function m(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)&255,e.charCodeAt(n)>>>8&255);return t}function g(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)>>>8&255,e.charCodeAt(n)&255);return t}function y(e){var t=Array(e.length>>2);for(var n=0;n<t.length;n++)t[n]=0;for(var n=0;n<e.length*8;n+=8)t[n>>5]|=(e.charCodeAt(n/8)&255)<<n%32;return t}function b(e){var t="";for(var n=0;n<e.length*32;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function w(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,i=-1732584194,s=271733878;for(var o=0;o<e.length;o+=16){var u=n,a=r,f=i,l=s;n=S(n,r,i,s,e[o+0],7,-680876936),s=S(s,n,r,i,e[o+1],12,-389564586),i=S(i,s,n,r,e[o+2],17,606105819),r=S(r,i,s,n,e[o+3],22,-1044525330),n=S(n,r,i,s,e[o+4],7,-176418897),s=S(s,n,r,i,e[o+5],12,1200080426),i=S(i,s,n,r,e[o+6],17,-1473231341),r=S(r,i,s,n,e[o+7],22,-45705983),n=S(n,r,i,s,e[o+8],7,1770035416),s=S(s,n,r,i,e[o+9],12,-1958414417),i=S(i,s,n,r,e[o+10],17,-42063),r=S(r,i,s,n,e[o+11],22,-1990404162),n=S(n,r,i,s,e[o+12],7,1804603682),s=S(s,n,r,i,e[o+13],12,-40341101),i=S(i,s,n,r,e[o+14],17,-1502002290),r=S(r,i,s,n,e[o+15],22,1236535329),n=x(n,r,i,s,e[o+1],5,-165796510),s=x(s,n,r,i,e[o+6],9,-1069501632),i=x(i,s,n,r,e[o+11],14,643717713),r=x(r,i,s,n,e[o+0],20,-373897302),n=x(n,r,i,s,e[o+5],5,-701558691),s=x(s,n,r,i,e[o+10],9,38016083),i=x(i,s,n,r,e[o+15],14,-660478335),r=x(r,i,s,n,e[o+4],20,-405537848),n=x(n,r,i,s,e[o+9],5,568446438),s=x(s,n,r,i,e[o+14],9,-1019803690),i=x(i,s,n,r,e[o+3],14,-187363961),r=x(r,i,s,n,e[o+8],20,1163531501),n=x(n,r,i,s,e[o+13],5,-1444681467),s=x(s,n,r,i,e[o+2],9,-51403784),i=x(i,s,n,r,e[o+7],14,1735328473),r=x(r,i,s,n,e[o+12],20,-1926607734),n=T(n,r,i,s,e[o+5],4,-378558),s=T(s,n,r,i,e[o+8],11,-2022574463),i=T(i,s,n,r,e[o+11],16,1839030562),r=T(r,i,s,n,e[o+14],23,-35309556),n=T(n,r,i,s,e[o+1],4,-1530992060),s=T(s,n,r,i,e[o+4],11,1272893353),i=T(i,s,n,r,e[o+7],16,-155497632),r=T(r,i,s,n,e[o+10],23,-1094730640),n=T(n,r,i,s,e[o+13],4,681279174),s=T(s,n,r,i,e[o+0],11,-358537222),i=T(i,s,n,r,e[o+3],16,-722521979),r=T(r,i,s,n,e[o+6],23,76029189),n=T(n,r,i,s,e[o+9],4,-640364487),s=T(s,n,r,i,e[o+12],11,-421815835),i=T(i,s,n,r,e[o+15],16,530742520),r=T(r,i,s,n,e[o+2],23,-995338651),n=N(n,r,i,s,e[o+0],6,-198630844),s=N(s,n,r,i,e[o+7],10,1126891415),i=N(i,s,n,r,e[o+14],15,-1416354905),r=N(r,i,s,n,e[o+5],21,-57434055),n=N(n,r,i,s,e[o+12],6,1700485571),s=N(s,n,r,i,e[o+3],10,-1894986606),i=N(i,s,n,r,e[o+10],15,-1051523),r=N(r,i,s,n,e[o+1],21,-2054922799),n=N(n,r,i,s,e[o+8],6,1873313359),s=N(s,n,r,i,e[o+15],10,-30611744),i=N(i,s,n,r,e[o+6],15,-1560198380),r=N(r,i,s,n,e[o+13],21,1309151649),n=N(n,r,i,s,e[o+4],6,-145523070),s=N(s,n,r,i,e[o+11],10,-1120210379),i=N(i,s,n,r,e[o+2],15,718787259),r=N(r,i,s,n,e[o+9],21,-343485551),n=C(n,u),r=C(r,a),i=C(i,f),s=C(s,l)}return Array(n,r,i,s)}function E(e,t,n,r,i,s){return C(k(C(C(t,e),C(r,s)),i),n)}function S(e,t,n,r,i,s,o){return E(t&n|~t&r,e,t,i,s,o)}function x(e,t,n,r,i,s,o){return E(t&r|n&~r,e,t,i,s,o)}function T(e,t,n,r,i,s,o){return E(t^n^r,e,t,i,s,o)}function N(e,t,n,r,i,s,o){return E(n^(t|~r),e,t,i,s,o)}function C(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function k(e,t){return e<<t|e>>>32-t}var t=0,n="";typeof define=="function"&&define.amd?define("md5",[],function(){return{hex_md5:r}}):(e.MPing_M||(e.MPing_M={}),MPing_M.tools=MPing_M.tools||{},MPing_M.tools.md5={hex_md5:r})}(window),function(e,t){typeof define=="function"&&define.amd?define("ping",["events","md5"],function(n,r){return e.MPing=t(e,n,r),e.MPing}):e.MPing=t(e,null,null)}(this,function(e,t,n){function s(e){this._init(),typeof e=="function"&&(this.ready=e);var t=this;document.addEventListener("DOMContentLoaded",function(e){t.ready()},!1)}function o(e){this.name=e}function u(){o.call(this,"PV",null),this.type=r.Type.PV,this.setTs("page_ts"),this.setPageParam(),this.setSourceParam()}function f(e){o.call(this,"Click",null),this.type=r.Type.CLICK,this.event_id=e,this.setTs("click_ts"),this.setPageParam(),this.updateEventSeries()}function l(e,t){f.call(this,e,null),this.reportAsOrder(t)}function c(e,t){f.call(this,e,null)}function h(e){o.call(this,"Order",null),this.type=r.Type.ORDER,this.skuId=e,this.setTs("order_ts")}function d(){}var r={ProjectId:"3",Biz:"mba",Key:"5YT%aC89$22OI@pQ",Method:{bpReport:"bp.report",bpSearch:"bp.search"},Client:{IOS_M:{UAname:"iPhone",value:"IOS-M"},ANDROID_M:{UAname:"android",value:"ANDROID-M"},IPAD_M:{UAname:"iPad",value:"iPad-M"},MICRO_M:{UAname:"MicroMessenger",value:"WEIXIN-M"},MM:{UAname:"MM",value:"M-M"}},Type:{PV:"1",PERFORMANCE:"2",CLICK:"3",ORDER:"4"},Storage:{current:"mba_cur_series",cached:"mba_cached_series"}};e.MPing_M||(e.MPing_M={});var i={common:{report_ts:"",method:"",token:"",proj_id:"",biz:"",uid:"",pinid:"",guid:"",client:"",appv:"",resolu:"",device:"",osv:"",build:"",net_type:"",sdkv:"",channel:""}};s.prototype={_init:function(){this.initCommonData(),this.initUid()},initCommonData:function(){var t=s.tools.Tools,o=n||MPing_M.tools.md5,u=r.Client,a=i.common,f=navigator.userAgent;if(f.indexOf("jdapp")>-1){var l=f.split(";");l[1]==u["IOS_M"]["UAname"]?a.client=u.IOS_M.value:l[1]==u["ANDROID_M"]["UAname"]?a.client=u.ANDROID_M.value:l[1]==u["IPAD_M"]["UAname"]&&(a.client=u.IPAD_M.value),a.appv=l[2],a.osv=l[3],a.guid=l[4]}else f.indexOf(u.MICRO_M.UAname)>-1?a.client=u.MICRO_M.value:a.client=u.MM.value;a.device=this._getOs(),a.proj_id=r.ProjectId,a.biz=r.Biz,a.method=r.Method.bpReport,a.report_ts=t.getCurTime(),a.resolu=e.innerWidth+"*"+e.innerHeight,a.token=o.hex_md5(a.report_ts+r.Key),a.reserved1=this._getShortRefer(document.referrer),a.reserved3=this._reservedCookies()},_reservedCookies:function(){var e=s.tools.Tools,t=["__jda","__jdv","__jdb","__jdu","__jdb","mu_subsite","mt_xid","unpl"],n=[];for(var r=0,i=t.length;r<i;r++)n.push(e.getCookie(t[r]));return n.join("_").replace(/\|/g,"_")},_getShortRefer:function(e){if(!e)return"";if(e.indexOf("360buy.com")>-1||e.indexOf("jd.com")>-1)return e;var t=s.tools.Tools;return e.indexOf("?")>-1?e.substr(0,e.indexOf("?")+1)+"word="+t.getParameter(e,"word"):e},_getOs:function(){var e=/(win|android|linux|nokia|ipad|iphone|ipod|mac|sunos|solaris)/.exec(navigator.platform.toLowerCase());return e==null?"other":e[0]},initUid:function(){var e=s.tools.Tools,t=(new Date).getTime();if(e.isMobile()){if(!e.getCookie("mba_muid"))e.setCookie("mba_muid",e.getUniq(),15552e6);else{var n=!!/-.{4}-/.exec(e.getCookie("mba_muid"));e.setCookie("mba_muid",n?e.getUniq():e.getCookie("mba_muid"),15552e6)}e.getCookie("mba_sid")?e.setCookie("mba_sid",e.getCookie("mba_sid"),18e5):e.setCookie("mba_sid",t+""+parseInt(Math.random()*1e16),18e5)}var r=e.getCookie("pinId"),i=e.getCookie("pin"),o=e.getCookie("mba_muid"),u=e.getCookie("mba_sid");this.options.pinid=r?r:"",this.options.uid=i?i:"",this.options.mba_muid=o?o:"",this.options.mba_sid=u?u:""},send:function(e){if(this.isSpider())return;var t=encodeURIComponent(JSON.stringify(this.getReportData(e))),n="http://stat.m.jd.com/stat/access.jpg?",r=[];r.push("data="+t);var i=n+r.join("&"),s=new Image(1,1);s.src=i},getReportData:function(e){var t=s.tools.Tools,n={data:[]};t.extend(n,i.common),t.extend(n,this.options);if(e instanceof s.Request){var r=e.getReportObj();r.pinid=this.options.pinid,r.uid=this.options.uid,n.data.push(r)}return n},isSpider:function(){var e=navigator.userAgent,t=/Googlebot|Feedfetcher-Google|Mediapartners-Google|Adsbot-Google|Sogou\s{1}web\s{1}spider|Sogou\s{1}inst\s{1}spider|Sogou\s{1}inst\s{1}spider\/4\.0|HaoSouSpider|360Spider|Baiduspider|bingbot|qihoobot|YoudaoBot|Sosospider|Sogou\s{1}web\s{1}spider|iaskspider|msnbot|Yahoo!\s{1}Slurp|Yahoo!\s{1}Slurp\s{1}China|yisouspider|msnbot/,n=t.test(e);return n}},s.prototype.options={uid:"",pinid:"",mba_muid:"",mba_sid:""},s.prototype.ready=function(){},s.Request=o,o.prototype.getReportObj=function(){var e={};for(var t in this)typeof this[t]!="function"&&t!=="name"&&(e[t]=this[t]?this[t]+"":"");return e},o.prototype.getTime=function(){var e=(new Date).valueOf()/1e3+"";return e},o.prototype.setTs=function(e){this[e]=this.getTime()},o.prototype.setPageParam=function(){var e=this.getUrlInfo();this.page_name=e[0],this.page_param=e[1]},o.prototype.getUrlInfo=function(t){t||(t=e.location.href);var n=t.split("#")[0].split("?");return n},u.prototype=new o,u.prototype.setSourceParam=function(){var t=e.location.search,n=s.tools.Tools,r=["utm_source","utm_medium","utm_term","utm_campaign"],i=new RegExp(".*("+r.join("|")+")=.*");if(i.test(t)){var o=n.getSearchObj(t);for(var u=0,a=r.length;u<a;u++){var f=r[u];this[f]=o[f]}}},f.prototype=new o,f.prototype.updateEventSeries=function(){s.EventSeries&&s.EventSeries.updateSeries(this)},f.attachEvent=function(t){t||(t="J_ping");var n="touchstart"in e?"touchstart":"click",r=document.querySelector("body"),i=s.tools.Tools;r.addEventListener(n,function(e){var n;for(var i=e.target;i!=r;){if(i.className&&i.className.indexOf(t)>-1){n=i;break}i=i.parentNode?i.parentNode:r}if(n){var o=n.getAttribute("report-eventid")?n.getAttribute("report-eventid"):"",u=new s.inputs.Click(o),a=new s;u.event_param=n.getAttribute("report-eventparam")?n.getAttribute("report-eventparam"):"",a.send(u)}},!1)},l.prototype=new f,l.prototype.addSeries=function(e){s.EventSeries.addSeries(e)},l.prototype.reportAsOrder=function(e){if(e){var t=new h(e),n=new s;n.send(t)}},c.prototype=new f,c.prototype.deleteSeries=function(e){var t=s.tools.Tools;if(t.isArray(e))for(var n=0,r=e.length;n<r;n++)s.EventSeries.deleteSeries(e[n]);else s.EventSeries.deleteSeries(e)},h.prototype=new o,h.prototype.deleteSeries=function(e){s.EventSeries.deleteSeries(e)},h.prototype.setPageParam=function(){},h.prototype.setParams=function(){var e={},t=s.tools.Tools},s.inputs={},s.inputs.PV=u,s.inputs.Click=f,s.inputs.AddCart=l,s.inputs.RmCart=c,s.inputs.Order=h;var p={eventSeries:{},getSeries:function(e){var t=s.tools.Tools,n={m_source:navigator.userAgent.indexOf("jdapp")>-1?"1":"0",mba_muid:t.getCookie("mba_muid"),mba_sid:t.getCookie("mba_sid"),event_series:this.eventSeries};return JSON.stringify(n)},androidSeries:function(){var t=this.getSeries();try{e.AndriodPing.setSeries(t)}catch(n){}},writeSeries:function(e){if(!e)return},updateSeries:function(e){if(!s.tools.Tools.isEmbedded())return;var n=e.event_id,r=t||MPing_M.events||{},i=n&&r&&r.map[n];if(!i)return;this.eventSeries.event_id=n,this.eventSeries.event_level=i,this.eventSeries.event_param=e.event_param,this.eventSeries.page_name=e.page_name,this.eventSeries.page_param=e.page_param},addSeries:function(e){var t=this.getCookiePart("mba_cur_com"),n=this.getCookiePart("mba_cur_e"),r={},i,s,o;n||(n={});if(t)for(i=t.split("!"),s=0,o=i.length;s<o;s++){var u=i[s].split("=");r[u[0]]=u[1]}r[e]=n,this.setCookiePart("mba_cur_com",this.param(r,"=","!"))},deleteSeries:function(e){var t=this.getCookiePart("mba_cur_com"),n={},r,i,s;if(!t)return;for(r=t.split("!"),i=0,s=r.length;i<s;i++){var o=r[i].split("=");o[0]!=a&&(n[o[0]]=o[1])}this.setCookiePart("mba_cur_com",this.param(n,"=","!"))},subCookieParts:{},getCookiePart:function(){try{var e="mba_event_series=",t=document.cookie.indexOf(e),n=null,r="";if(!(t>-1))return null;if(n=document.cookie.indexOf(";",t),-1==n&&(n=document.cookie.length),n=document.cookie.substring(t+e.length,n),0<n.length){for(e=n.split("&"),t=0,n=e.length;n>t;t++){var i=e[t].split("=");if(decodeURIComponent(i[0])==a){r=decodeURIComponent(i[1]);break}}return r}}catch(s){return null}},setCookiePart:function(e,t){if(t)try{this.subCookieParts=this.getAllSubCookies(),e=e.toString(),t=t.toString(),this.subCookieParts[encodeURIComponent(e)]=encodeURIComponent(t),this.setSubCookieValue()}catch(n){}},getAllSubCookies:function(){var e="mba_event_series=",t=document.cookie.indexOf(e),n=null,r={};if(t>-1){if(n=document.cookie.indexOf(";",t),-1==n&&(n=document.cookie.length),n=document.cookie.substring(t+e.length,n),0<n.length)for(e=n.split("&"),t=0,n=e.length;n>t;t++){var i=e[t].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}return{}},setSubCookieValue:function(){var e="mba_event_series=",t=[];for(var n in this.subCookieParts)n&&"function"!=typeof this.subCookieParts[n]&&t.push(n+"="+this.subCookieParts[n]);0<t.length&&(e+=t.join("&"),e+="; path=/; domain="+this.getDomain()+";",document.cookie=e,this.subCookieParts={})},getDomain:function(){return s.tools.Tools.getTopDomain()},param:function(e,t,n){if(t===undefined||t===null)t="=";if(n===undefined||n===null)n="&";var r=[];for(var i in e)typeof this[i]!="function"&&r.push((new Array(i,t,this[i])).join(""));return r.join(n)}};s.EventSeries=p,d.prototype={getCurTime:function(){var e=(new Date).valueOf()/1e3+"";return e},getUniq:function(){var e=(new Date).getTime()+"-";for(var t=1;t<=18;t++){var n=Math.floor(Math.random()*16).toString(16);e+=n}return e},extend:function(e){if(!this.isObject(e))return e;var t,n;for(var r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&t[n]&&(e[n]=t[n])}return e},isObject:function(e){var t=typeof e;return t==="object"&&!!e},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},isString:function(e){return Object.prototype.toString.call(e)==="[object String]"},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"},isMobile:function(){var e=navigator.userAgent,t=!1;if(e.indexOf("jdapp")>-1)t=!0;else{var n=/(win|mac|sunos|solaris)/.exec(navigator.platform.toLowerCase());t=n==null?!0:!1}return t},isEmbedded:function(){return navigator.userAgent.indexOf("jdapp")>-1},attr:function(e,t){var n;return e&&e.nodeType!==1?undefined:!(n=e.getAttribute(t))&&t in e?e[t]:n},getCookie:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t!=null?decodeURI(t[2]):null},setCookie:function(t,n,r){var i=new Date;if(r===null||r===undefined)r=18e5;i.setTime(i.getTime()+r),document.cookie=t+"="+encodeURI(n)+";expires="+i.toGMTString()+";path=/;domain="+this.getRootDomain(this.getDomain())+";"},getRootDomain:function(e){e=e.replace(/\/$/ig,""),e=e.replace(/^(http|ftp|https|ssh):\/\//ig,""),e=e.replace(/(.com|.info|.net|.org|.me|.mobi|.us|.biz|.xxx|.ca|.mx|.tv|.ws|.com.ag|.net.ag|.org.ag|.ag|.am|.asia|.at|.be|.com.br|.net.br|.com.bz|.net.bz|.bz|.cc|.com.co|.net.co|.com.co|.co|.de|.com.es|.nom.es|.org.es|.es|.eu|.fm|.fr|.gs|.co.in|.firm.in|.gen.in|.ind.in|.net.in|.org.in|.in|.it|.jobs|.jp|.ms|.com.mx|.nl|.nu|.co.nz|.net.nz|.org.nz|.se|.tc|.tk|.com.tw|.idv.tw|.org.tw|.tw|.co.uk|.me.uk|.org.uk|.vg|.com.cn|.gov|.gov.cn|.cn)$/ig,"%divide%$1");var t=e.split("%divide%")[1];typeof t=="undefined"&&(t=""),e=e.split("%divide%")[0];var n=e.split(".");return"."+n[n.length-1]+t},getDomain:function(){var t=e.location.href;return t=t.replace(/^(http|ftp|https|ssh):\/\//ig,""),t.split("/")[0]},getTopDomain:function(){var e=(location.hostname+"/").match(/[\w-]+\.(com|info|net|org|me|mobi|hk|us|biz|xxx|ca|mx|tv|ws|am|asia|at|be|bz|cc|co|de|nom|es|eu|fm|fr|gs|firm|gen|ind|in|it|jobs|jp|ms|nl|nu|se|tc|tk|idv|tw|vg|gov|cn|ha)(\.(cn|hk|jp|tw|kr|mo|uk|ag|es|co|nz|in|br|bz|mx))*\//gi);return e?0<e.length?e[0].substr(0,e[0].length-1):void 0:document.domain},getSearchObj:function(e){e||(e=location.search);var t=(e+"").replace(/(&amp;|\?)/g,"&").split("&"),n={};for(var r=0,i=t.length;r<i;r++){var s=t[r].indexOf("=");if(-1==s)continue;n[t[r].substr(0,s).replace(/[^a-zA-Z0-9_]/g,"")]=decodeURIComponent(t[r].substr(s+1))}return n},getParameter:function(e,t){var n=e.match(RegExp("(^|&|\\?|#)("+t+")=([^&#]*)(&|$|#)",""));return n?n[3]:null}};var v=new d;return function(){if(!v.isMobile())return;var e=(new Date).getTime();if(!v.getCookie("mba_muid"))v.setCookie("mba_muid",v.getUniq(),15552e6);else{var t=!!/-.{4}-/.exec(v.getCookie("mba_muid"));v.setCookie("mba_muid",t?v.getUniq():v.getCookie("mba_muid"),15552e6)}v.getCookie("mba_sid")?v.setCookie("mba_sid",v.getCookie("mba_sid"),18e5):v.setCookie("mba_sid",e+""+parseInt(Math.random()*1e16),18e5)}(),s.tools||(s.tools={}),s.tools.Tools=v,s});