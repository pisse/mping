/*! mping 27-01-2015 */
!function(a){function b(a){this._init(),"function"==typeof a&&(this.ready=a),this.ready()}function c(a){this.name=a}function d(){c.call(this,"PV",null),this.type=j.Type.PV,this.setTs("page_ts"),this.setPageParam(),this.setSourceParam()}function e(a){c.call(this,"Click",null),this.type=j.Type.CLICK,this.event_id=a,this.setTs("click_ts"),this.setPageParam(),this.updateEventSeries()}function f(a,b){e.call(this,a,null),this.addSeries(b)}function g(a,b){e.call(this,a,null),this.deleteSeries(b)}function h(a){c.call(this,"Order",null),this.type=j.Type.ORDER,this.skuId=a,this.setTs("order_ts"),this.setParams(),this.deleteSeries(a)}function i(){}var j={ProjectId:"3",Biz:"mba",Key:"5YT%aC89$22OI@pQ",Method:{bpReport:"bp.report",bpSearch:"bp.search"},Client:{IOS_M:{UAname:"iPhone",value:"IOS-M"},ANDROID_M:{UAname:"android",value:"ANDROID-M"},MICRO_M:{UAname:"MicroMessenger",value:"WEIXIN-M"},MM:{UAname:"MM",value:"M-M"}},Type:{PV:"1",PERFORMANCE:"2",CLICK:"3",ORDER:"4"},Storage:{current:"mba_cur_series",cached:"mba_cached_series"}},k={common:{report_ts:"",method:"",token:"",proj_id:"",biz:"",uid:"",guid:"",client:"",appv:"",resolu:"",device:"",osv:"",build:"",net_type:"",sdkv:"",channel:""}};b.prototype={_init:function(){this.initCommonData(),this.initUid()},initCommonData:function(){var c=b.tools.Tools,d=b.tools.md5,e=j.Client,f=k.common,g=navigator.userAgent;if(g.indexOf("jdapp")>-1){var h=g.split(";");h[1]==e.IOS_M.UAname?f.client=e.IOS_M.value:h[1]==e.ANDROID_M.UAname&&(f.client=e.ANDROID_M.value),f.appv=h[2],f.osv=h[3],f.guid=h[4]}else f.client=g.indexOf(e.MICRO_M.UAname)>-1?e.MICRO_M.value:e.MM.value;f.proj_id=j.ProjectId,f.biz=j.Biz,f.method=j.Method.bpReport,f.report_ts=c.getCurTime(),f.resolu=a.innerWidth+"*"+a.innerHeight,f.token=d.hex_md5(f.report_ts+j.Key)},initUid:function(){var a=this,c=m.getCookie("pinId");a.options.uid=c?c:"",b.tools.localShare(function(){var c=(new Date).getTime(),d=this,e=b.tools.Tools;d.getItem("mba_muid")?d.setItem("mba_muid",d.getItem("mba_muid"),31536e6):d.setItem("mba_muid",e.getUniq(),31536e6),d.getItem("mba_sid")?d.setItem("mba_sid",d.getItem("mba_sid"),18e5):d.setItem("mba_sid",c+""+parseInt(1e16*Math.random()),18e5),a.options.mba_muid=d.getItem("mba_muid"),a.options.mba_sid=d.getItem("mba_sid")})},send:function(a){var c=this;b.tools.localShare(function(){var b=encodeURIComponent(JSON.stringify(c.getReportData(a))),d="http://stat.m.jd.com/stat/access.jpg?",e=[];e.push("data="+b);var f=d+e.join("&"),g=new Image(1,1);g.src=f})},getReportData:function(a){var c=b.tools.Tools,d={data:[]};if(c.extend(d,k.common),c.extend(d,this.options),a instanceof b.Request){var e=a.getReportObj();e.uid=this.options.uid,d.data.push(e)}return d}},b.prototype.options={uid:"",mba_muid:"",mba_sid:""},b.prototype.ready=function(){},b.Request=c,c.prototype.getReportObj=function(){var a={};for(var b in this)"function"!=typeof this[b]&&"name"!==b&&(a[b]=this[b]?this[b]+"":"");return a},c.prototype.getTime=function(){var a=(new Date).valueOf()/1e3+"";return a},c.prototype.setTs=function(a){this[a]=this.getTime()},c.prototype.setPageParam=function(){var a=this.getUrlInfo();this.page_name=a[0],this.page_param=a[1]},c.prototype.getUrlInfo=function(b){b||(b=a.location.href);var c=b.split("#")[0].split("?");return c},d.prototype=new c,d.prototype.setSourceParam=function(){var c=a.location.search,d=b.tools.Tools,e=["utm_source","utm_medium","utm_term","utm_campaign"],f=new RegExp(".*("+e.join("|")+")=.*");if(f.test(c))for(var g=d.getSearchObj(c),h=0,i=e.length;i>h;h++){var j=e[h];this[j]=g[j]}},e.prototype=new c,e.prototype.updateEventSeries=function(){b.EventSeries&&b.EventSeries.updateSeries(this)},e.attachEvent=function(c){c||(c="J_ping");var d="touchstart"in a?"touchstart":"click",e=document.querySelector("body");e.addEventListener(d,function(a){for(var d,f=a.target;f!=e;){if(f.className&&f.className.indexOf(c)>-1){d=f;break}f=f.parentNode?f.parentNode:e}if(d){var g=d.getAttribute("report-eventid")?d.getAttribute("report-eventid"):"",h=new b.inputs.Click(g),i=new b;h.event_param=d.getAttribute("report-eventparam")?d.getAttribute("report-eventparam"):"",i.send(h)}},!1)},f.prototype=new e,f.prototype.addSeries=function(a){b.EventSeries.addSeries(a)},g.prototype=new e,g.prototype.deleteSeries=function(a){b.EventSeries.deleteSeries(a)},h.prototype=new c,h.prototype.deleteSeries=function(a){b.EventSeries.deleteSeries(a)},h.prototype.setPageParam=function(){},h.prototype.setParams=function(){var a=b.tools.Tools,c=this;b.EventSeries.getSeriesById(this.skuId,function(b){if(b&&a.isObject(b))for(var d in b){var e=b[d];if(e&&a.isObject(e)){var f=parseInt(e.level);c["lv"+f+"_event_id"]=e.event_id,c["lv"+f+"_event_param"]=e.event_param,c["lv"+f+"_page_name"]=e.page_name,c["lv"+f+"_page_param"]=e.page_param}}})},b.inputs={},b.inputs.PV=d,b.inputs.Click=e,b.inputs.AddCart=f,b.inputs.RmCart=g,b.inputs.Order=h;var l={getSeries:function(a){var c;return b.tools.localShare(function(){var d=this,e=j.Storage,f=d.getItem(e.current),g=b.tools.Tools;f&&g.isObject(f)&&(c=JSON.stringify(f)),g.isFunction(a)&&a.call(null,c)}),c},getCached:function(a){var c;return b.tools.localShare(function(){var d=this,e=j.Storage,f=d.getItem(e.cached),g=b.tools.Tools;f&&g.isObject(f)&&(c=JSON.stringify(f)),g.isFunction(a)&&a.call(null,c)}),c},writeSeries:function(a){a&&b.tools.localShare(function(){var c,d=this,e=j.Storage,f=b.tools.Tools;try{c=JSON.parse(a),c&&f.isObject(c)&&d.setItem(e.current,c)}catch(g){}})},updateSeries:function(a){if(a instanceof c){var d=a.event_id,e=d&&b.events.map[d],f=b.tools.Tools;if(void 0==e||""==e||null==e)return;b.tools.localShare(function(){var b,c=this,g={level:e,event_id:d,event_param:a.event_param,page_name:a.page_name,page_param:a.page_param},h=j.Storage,i=c.getItem(h.current),k=parseInt(e)-1;i&&f.isObject(i)?b=k:(i={},b=0);for(var l=b;5>l;l++)i[l]=l==k?g:"";c.setItem(h.current,i)})}},getSeriesById:function(a,c){var d,e=b.tools.Tools;if(a&&e.isString(a))return b.tools.localShare(function(){var b=this,f=j.Storage,g=b.getItem(f.cached);g&&e.isObject(g)&&g.hasOwnProperty(a)&&(d=g[a]),e.isFunction(c)&&c.call(null,d)}),d},addSeries:function(a){var c=b.tools.Tools;a&&c.isString(a)&&b.tools.localShare(function(){var b=this,d=j.Storage,e=b.getItem(d.cached),f=b.getItem(d.current);e&&c.isObject(e)||(e={}),f&&c.isObject(f)||(f={}),e[a]=f,b.setItem(d.cached,e),b.removeItem(d.current)})},deleteSeries:function(a){var c=b.tools.Tools;a&&c.isString(a)&&b.tools.localShare(function(){var b=this,d=j.Storage,e=b.getItem(d.cached);e&&c.isObject(e)&&e.hasOwnProperty(a)&&(delete e[a],b.setItem(d.cached,e))})}};b.EventSeries=l,i.prototype={getCurTime:function(){var a=(new Date).valueOf()/1e3+"";return a},getUniq:function(){for(var a="",b=1;32>=b;b++){var c=Math.floor(16*Math.random()).toString(16);a+=c,(8==b||12==b||16==b||20==b)&&(a+="-")}return a},extend:function(a){if(!this.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&b[c]&&(a[c]=b[c])}return a},isObject:function(a){var b=typeof a;return"object"===b&&!!a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},getCookie:function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?decodeURI(b[2]):null},setCookie:function(a,b,c){var d=new Date;(null===c||void 0===c)&&(c=18e5),d.setTime(d.getTime()+c),document.cookie=a+"="+encodeURI(b)+";expires="+d.toGMTString()+";path=/;domain="+this.getRootDomain(this.getDomain())+";"},getRootDomain:function(a){a=a.replace(/\/$/gi,""),a=a.replace(/^(http|ftp|https|ssh):\/\//gi,""),a=a.replace(/(.com|.info|.net|.org|.me|.mobi|.us|.biz|.xxx|.ca|.mx|.tv|.ws|.com.ag|.net.ag|.org.ag|.ag|.am|.asia|.at|.be|.com.br|.net.br|.com.bz|.net.bz|.bz|.cc|.com.co|.net.co|.com.co|.co|.de|.com.es|.nom.es|.org.es|.es|.eu|.fm|.fr|.gs|.co.in|.firm.in|.gen.in|.ind.in|.net.in|.org.in|.in|.it|.jobs|.jp|.ms|.com.mx|.nl|.nu|.co.nz|.net.nz|.org.nz|.se|.tc|.tk|.com.tw|.idv.tw|.org.tw|.tw|.co.uk|.me.uk|.org.uk|.vg|.com.cn|.gov|.gov.cn|.cn)$/gi,"%divide%$1");var b=a.split("%divide%")[1];"undefined"==typeof b&&(b=""),a=a.split("%divide%")[0];var c=a.split(".");return"."+c[c.length-1]+b},getDomain:function(){var b=a.location.href;return b=b.replace(/^(http|ftp|https|ssh):\/\//gi,""),b.split("/")[0]},getTopDomain:function(){var a=(location.hostname+"/").match(/[\w-]+\.(com|info|net|org|me|mobi|hk|us|biz|xxx|ca|mx|tv|ws|am|asia|at|be|bz|cc|co|de|nom|es|eu|fm|fr|gs|firm|gen|ind|in|it|jobs|jp|ms|nl|nu|se|tc|tk|idv|tw|vg|gov|cn|ha)(\.(cn|hk|jp|tw|kr|mo|uk|ag|es|co|nz|in|br|bz|mx))*\//gi);return a?0<a.length?a[0].substr(0,a[0].length-1):void 0:document.domain},getSearchObj:function(a){a||(a=location.search);for(var b=(a+"").replace(/(&amp;|\?)/g,"&").split("&"),c={},d=0,e=b.length;e>d;d++){var f=b[d].indexOf("=");-1!=f&&(c[b[d].substr(0,f).replace(/[^a-zA-Z0-9_]/g,"")]=decodeURIComponent(b[d].substr(f+1)))}return c}};var m=new i;b.tools||(b.tools={}),b.tools.Tools=m,document.domain=m.getTopDomain(),a.MPing=b}(window),function(){function a(a){return c(b(d(a)))}function b(a){return f(g(e(a),8*a.length))}function c(a){try{}catch(b){o=0}for(var c,d=o?"0123456789ABCDEF":"0123456789abcdef",e="",f=0;f<a.length;f++)c=a.charCodeAt(f),e+=d.charAt(c>>>4&15)+d.charAt(15&c);return e}function d(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|b>>>6&31,128|63&b):65535>=b?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function e(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b}function f(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}function g(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,n=d,o=e,p=f;c=i(c,d,e,f,a[g+0],7,-680876936),f=i(f,c,d,e,a[g+1],12,-389564586),e=i(e,f,c,d,a[g+2],17,606105819),d=i(d,e,f,c,a[g+3],22,-1044525330),c=i(c,d,e,f,a[g+4],7,-176418897),f=i(f,c,d,e,a[g+5],12,1200080426),e=i(e,f,c,d,a[g+6],17,-1473231341),d=i(d,e,f,c,a[g+7],22,-45705983),c=i(c,d,e,f,a[g+8],7,1770035416),f=i(f,c,d,e,a[g+9],12,-1958414417),e=i(e,f,c,d,a[g+10],17,-42063),d=i(d,e,f,c,a[g+11],22,-1990404162),c=i(c,d,e,f,a[g+12],7,1804603682),f=i(f,c,d,e,a[g+13],12,-40341101),e=i(e,f,c,d,a[g+14],17,-1502002290),d=i(d,e,f,c,a[g+15],22,1236535329),c=j(c,d,e,f,a[g+1],5,-165796510),f=j(f,c,d,e,a[g+6],9,-1069501632),e=j(e,f,c,d,a[g+11],14,643717713),d=j(d,e,f,c,a[g+0],20,-373897302),c=j(c,d,e,f,a[g+5],5,-701558691),f=j(f,c,d,e,a[g+10],9,38016083),e=j(e,f,c,d,a[g+15],14,-660478335),d=j(d,e,f,c,a[g+4],20,-405537848),c=j(c,d,e,f,a[g+9],5,568446438),f=j(f,c,d,e,a[g+14],9,-1019803690),e=j(e,f,c,d,a[g+3],14,-187363961),d=j(d,e,f,c,a[g+8],20,1163531501),c=j(c,d,e,f,a[g+13],5,-1444681467),f=j(f,c,d,e,a[g+2],9,-51403784),e=j(e,f,c,d,a[g+7],14,1735328473),d=j(d,e,f,c,a[g+12],20,-1926607734),c=k(c,d,e,f,a[g+5],4,-378558),f=k(f,c,d,e,a[g+8],11,-2022574463),e=k(e,f,c,d,a[g+11],16,1839030562),d=k(d,e,f,c,a[g+14],23,-35309556),c=k(c,d,e,f,a[g+1],4,-1530992060),f=k(f,c,d,e,a[g+4],11,1272893353),e=k(e,f,c,d,a[g+7],16,-155497632),d=k(d,e,f,c,a[g+10],23,-1094730640),c=k(c,d,e,f,a[g+13],4,681279174),f=k(f,c,d,e,a[g+0],11,-358537222),e=k(e,f,c,d,a[g+3],16,-722521979),d=k(d,e,f,c,a[g+6],23,76029189),c=k(c,d,e,f,a[g+9],4,-640364487),f=k(f,c,d,e,a[g+12],11,-421815835),e=k(e,f,c,d,a[g+15],16,530742520),d=k(d,e,f,c,a[g+2],23,-995338651),c=l(c,d,e,f,a[g+0],6,-198630844),f=l(f,c,d,e,a[g+7],10,1126891415),e=l(e,f,c,d,a[g+14],15,-1416354905),d=l(d,e,f,c,a[g+5],21,-57434055),c=l(c,d,e,f,a[g+12],6,1700485571),f=l(f,c,d,e,a[g+3],10,-1894986606),e=l(e,f,c,d,a[g+10],15,-1051523),d=l(d,e,f,c,a[g+1],21,-2054922799),c=l(c,d,e,f,a[g+8],6,1873313359),f=l(f,c,d,e,a[g+15],10,-30611744),e=l(e,f,c,d,a[g+6],15,-1560198380),d=l(d,e,f,c,a[g+13],21,1309151649),c=l(c,d,e,f,a[g+4],6,-145523070),f=l(f,c,d,e,a[g+11],10,-1120210379),e=l(e,f,c,d,a[g+2],15,718787259),d=l(d,e,f,c,a[g+9],21,-343485551),c=m(c,h),d=m(d,n),e=m(e,o),f=m(f,p)}return Array(c,d,e,f)}function h(a,b,c,d,e,f){return m(n(m(m(b,a),m(d,f)),e),c)}function i(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)}function j(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)}function m(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function n(a,b){return a<<b|a>>>32-b}var o=0;MPing.tools||(MPing.tools={}),MPing.tools.md5={hex_md5:a}}(window),function(a){var b=!1,c=null,d=!1,e=[],f=null;a.tools.localShare=function(g){!1===b&&(a.tools.localShare.onComplete=function(){f=c.contentWindow.storageCore;for(var b=0,g=e.length;g>b;b++)"function"==typeof e[b]&&e[b].call(f);d=!0,e=null,c=null,delete a.tools.localShare.onComplete},c=document.createElement("IFRAME"),c.src="http://h5.m.jd.com/active/track/proxy.html?v=xxxx",c.style.display="none",b=!0,document.body.insertBefore(c,document.body.firstChild)),d?"function"==typeof g&&g.call(f):e.push(g)},a.tools.localShare()}(MPing,window),function(){var a={StartPhoto_StartPic:1,NavigationBar_MyJD:1,NavigationBar_Discover:1,NavigationBar_Home:1,NavigationBar_Classification:1,NavigationBar_Shopcart:1,Home_Shortcut:1,Home_ProductList:1,Home_FloorCustomize:1,Home_HandSeckill:1,Home_Floor:1,Home_FloatingFloor:1,Home_GoodShopCate:1,Home_Search:1,Home_VSearch:1,Home_ThemeCustom:1,Home_ThemeStreet:1,Home_FocusPic:1,Home_SeckillWord:1,Home_SeckillSlideIn:1,Home_Category:1,Home_BrandGuideSlideIn:1,Home_StreetSlideIn:1,Home_Scan:1,Search_Search:1,Home_ThemeMore:1,Classification_CateCustomize:2,Discover_Applications:2,Discover_Xiaobing:2,OrderList_BuyAgain:2,OrderList_GotoShop:2,MessageCenter_Productid:2,FloorCustomize_Productid:2,MyFollow_Productid:2,MyJD_Ordersnotfinish:2,MyJD_MyFollow:2,MyJD_HistoryLog:2,MyJD_GuessYouLike:2,Shake_Result:2,GoodShop_Shopid:2,GoodShop_ProductNew:2,GoodShop_ProductSale:2,ShopList_Productid:2,MyJD_MyMessage:2,Presell_Productid:2,HandSeckill_Productid:2,HandSeckill_MoreOnSale:2,HandSeckill_ShopOnSale:2,Classification_BCategory:2,BCategory_activityid:2,ThemeStreet_GotoStreet:2,ThemeStreet_MoreRecommend:2,CutDown_Productid:2,Scan_Scan_Scan:2,Search_Scan:2,Discover_Scan:2,Search_Searchthi:2,Search_History:2,Search_Hotword:2,Search_AssociativeWord:2,Search_VSearch:2,Classification_VSearch:2,Discover_Story:2,Discover_Stroll:2,Discover_Activities:2,Discover_Shake:2,Discover_Nearby:2,Home_Productid:2,HomeList_Productid:2,Search_TopLabel:2,Search_MiddleLabel:2,Search_OnehourLabel:2,JDTopList_ProductID:2,Applications_Applications:3,StockShelf_Productid:3,XiaobingChat_Productid:3,XiaobingChat_Activityid:3,XiaobingChat_Shopid:3,MyFollow_Shopid:3,Shopid_Search:3,Shopid_ActivityBanner:3,Shopid_Acitivityid:3,Shopid_Productid:3,ShopProductNew_Productid:3,ShopProductSale_Productid:3,Activity_Productid:3,MCategory_SCategory:3,GoodProduct_GoodProductid:3,RecommendPro_RecommendProid:3,RecommendPro_DirectBuy:3,CutDownResult_GotoCart:3,Stroll_Productid:3,StrollWellChosen_Productid:3,StrollRecommend_Productid:3,StrollRecommend_EasyBuy:3,StrollSimilar_ProductDetail:3,Picture_Productid:3,Searchlist_Productid:3,Searchlist_Moresupplier:3,Searchlist_VSearch:3,Searchlist_ShopPopup:3,Searchlist_Shopid:3,Productlist_Productid:3,Productdetail_Like:4,PushMessage_OpenMessage:5,Orderdetail_BuyAgain:5,Orderdetail_Shopid:5,Shopcart_GuessYouLike:5,Shopcart_Label:5,Shopcart_Getresent:5,MessageCenter_Message:5,MHome_Category:1,MHome_ShopCart:1,MHome_Recharge:1,MHome_Lottery:1,MHome_MyJD:1,MHome_Search:1,MHome_FocusPic:1,MHome_HandSecKill:1,MHome_Floor:1,MHome_Searchthi:2,BrandStreetSale_Activityid:2,BrandStreetSale_Productid:2,BrandStreetShow_FocusPic:2,BrandStreetShow_Activityid:2,MCategory_Searchthi:2,MCategory_SCategory:2,MHandSeckill_Productid:2,MMyJD_MyMessage:2,MMyJD_MyFollow:2,MMyJD_MyHistory:2,MMyJD_MyReserve:2,MMyJD_GuessYouLike:2,MMyFollow_Productid:2,Shopid_Productid:3,MProductlist_Productid:3,MActivity_Productid:3,Jshop_ProductID:3,Jshop_ProductID_Category:3,Jshop_CountDown:3,Jshop_GroupBuy:3,Jshop_ShopRec:3,Jshop_PromoRec:3,Jshop_PromoTurns:3,Jshop_PreSale:3,Jshop_ImgWord:3,Jshop_Html_Content:3};MPing.events={},MPing.events.map=a}(window);